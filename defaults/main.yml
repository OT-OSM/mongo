---
# defaults file for mongodb

# MongoDB Installation Parameters
mongo_version: "8.0.11"                        
mongo_major_version: "8.0"                    
mongo_package_name: mongodb-org
mongo_apt_repo_url: "https://repo.mongodb.org/apt/ubuntu"
mongo_apt_key_id:
  "3.4": "0C49F3730359A14518585931BC711F9BA15703C6"
  "3.6": "2930ADAE8CAF5059EE73BB4B58712A2291FA4AD5"
  "4.0": "9DA31620334BD75D9DCB49F368818C72E52529D4"
  "4.2": "E162F504A20CDF15827F718D4B7C549A058F8B6B"
  "7.0": "https://www.mongodb.org/static/pgp/server-7.0.asc"
  "8.0": "https://www.mongodb.org/static/pgp/server-8.0.asc"
mongo_apt_key_server: keyserver.ubuntu.com
mongo_gpg_key_path: "/usr/share/keyrings/mongodb-server-{{ mongo_major_version }}.gpg"

# PyMongo
pymongo_pip_version: 4.6.1

# Mongo Service Parameters
mongo_service_name: mongod
mongo_service_user: "{{ 'mongodb' if ansible_os_family == 'Debian' else 'mongod' }}"
mongo_service_group: "{{ mongo_service_user }}"

# Mongo Configuration Parameters
mongo_systemlog_destination: "file"
mongo_systemlog_path: /var/log/mongodb/mongod.log
mongo_db_path: "{{ '/var/lib/mongodb' if ansible_os_family == 'Debian' else '/var/lib/mongo' }}"
mongo_pid_file_path: /var/run/mongodb/mongod.pid
mongo_time_zone_info: /usr/share/zoneinfo
mongo_port: 27017
mongo_bindIp: localhost

# Replication Parameters
replication_enabled: false
mongo_replSetName: repl
mongo_heartbeat_timeout_secs: 10
mongo_election_timeout_millisec: 10000
master_priority: 5
slave_priority: 1

# Authentication Parameters (replace these via Vault!)
authentication_enabled: true
mongo_user_admin_name: useradmin
mongo_user_admin_pwd: "{{ vault_mongo_user_admin_pwd }}"    
mongo_root_admin_name: RootAdmin
mongo_root_admin_pwd: "{{ vault_mongo_root_admin_pwd }}"    
mongo_root_backup_name: backupuser
mongo_root_backup_pwd: "{{ vault_mongo_backup_pwd }}"       
mongo_custom_users: None
mongo_authentication_keyname: mongo_authentication_key
mongo_authentication_key: "{{ vault_mongo_authentication_key }}"  
